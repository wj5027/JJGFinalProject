<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="BoardAdmin">
  	<resultMap type="com.kh.tsp.customer.model.vo.Board" id="BoardAdminResultSet">
  		<id property="bno" column="BOARD_NO"/>
  		<result property="bTitle" column="BOARD_TITLE"/>
  		<result property="bContext" column="BOARD_CONTEXT"/>
  		<result property="bViews" column="BOARD_VIEWS"/>
  		<result property="createDate" column="CREATION_DATE"/>
  		<result property="modifyDate" column="MODIFED_DATE"/>
  		<result property="bType" column="BOARD_TYPE"/>
  		<result property="status" column="STATUS"/>
  		<result property="mno" column="MEMBER_NO"/>
  		<result property="pno" column="PARKING_NO"/>
  		<result property="mId" column="MEMBER_ID"/>
  	</resultMap>
  	
	<!-- 문의게시판 전체 수 -->
  	<select id="getListCount" resultType="_int">
  		SELECT COUNT(*) 
		FROM BOARD
		WHERE BOARD_TYPE = '관리자문의'
  	</select>
  	
  	<!-- 문의게시판 전체 리스트 -->
  	<select id="selectBoardQnAList" resultMap="BoardAdminResultSet">
  		SELECT M.MEMBER_NO, M.MEMBER_ID, B.BOARD_NO, B.BOARD_TITLE, B.BOARD_CONTEXT, B.BOARD_VIEWS, B.CREATION_DATE, B.MODIFIED_DATE, B.BOARD_TYPE, B.BOARD_TYPE
  		FROM BOARD B
  		INNER JOIN MEMBER M ON(B.MEMBER_NO = M.MEMBER_NO)
  		WHERE B.STATUS = 'Y'
  		AND B.BOARD_TYPE = '관리자문의'
  		ORDER BY BOARD_NO DESC
  	</select>
  	
  </mapper>